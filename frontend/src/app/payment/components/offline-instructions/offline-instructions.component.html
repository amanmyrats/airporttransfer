<ng-container *ngIf="instruction as details; else genericInstructions">
  <section class="offline-instructions">
    <h3>{{ copy.detailed.title }}</h3>
    <p class="amount">
      {{ copy.detailed.amountPrefix }} {{ formatAmount() }} {{ copy.detailed.amountSuffix }}
    </p>

    <dl>
      <div>
        <dt>{{ copy.detailed.reference }}</dt>
        <dd>{{ details.reference_text || bookingRef }}</dd>
      </div>
      <div>
        <dt>{{ isRubPhoneTransfer() ? copy.detailed.phoneNumber : copy.detailed.iban }}</dt>
        <dd>{{ phoneValue(details) }}</dd>
      </div>
      <div>
        <dt>{{ isRubPhoneTransfer() ? copy.detailed.accountHolder : copy.detailed.accountName }}</dt>
        <dd>{{ details.account_name }}</dd>
      </div>
      <div>
        <dt>{{ isRubPhoneTransfer() ? copy.detailed.bankName : copy.detailed.bank }}</dt>
        <dd>{{ details.bank_name }}</dd>
      </div>
      <div *ngIf="details.expires_at">
        <dt>{{ copy.detailed.expires }}</dt>
        <dd>{{ details.expires_at | date:'medium' }}</dd>
      </div>
    </dl>

    <p class="note">{{ copy.detailed.note }}</p>
    <div class="extra-content">
      <ng-content></ng-content>
    </div>
    <div class="cta-row">
      <button
        type="button"
        class="cta"
        (click)="confirmTransfer.emit()"
        [disabled]="status === 'processing' || actionDisabled"
      >
        {{ copy.detailed.confirmButton }}
      </button>
      <button type="button" class="link-cta" (click)="changeMethod.emit()">{{ copy.detailed.changeMethod }}</button>
    </div>
    <p class="status" *ngIf="status === 'processing'">{{ copy.detailed.reviewing }}</p>
  </section>
</ng-container>

<ng-template #genericInstructions>
  <section class="offline-instructions">
    <h3>{{ copy.generic.title }}</h3>
    <p class="amount">
      {{ copy.generic.amountPrefix }} {{ formatAmount() }}
      {{ copy.generic.amountMid }}
      <strong>{{ bookingRef }}</strong>
      {{ copy.generic.amountSuffix }}
    </p>
    <div class="cta-row">
      <button type="button" class="cta" (click)="confirmTransfer.emit()" [disabled]="status === 'processing'">
        {{ copy.generic.confirmButton }}
      </button>
      <button type="button" class="link-cta" (click)="changeMethod.emit()">{{ copy.generic.changeMethod }}</button>
    </div>
    <p class="status" *ngIf="status === 'processing'">{{ copy.generic.reviewing }}</p>
  </section>
</ng-template>
