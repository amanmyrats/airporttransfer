<!-- blog-video-caption-form.component.html -->
<div class="form-wrapper">
    <form [formGroup]="form" (ngSubmit)="submit()" class="form-grid">
      <input type="hidden" formControlName="id" />
      <input type="hidden" formControlName="video" />
  
      <div *ngIf="!track" class="form-field">
        <label for="language">Language *</label>
        <p-select inputId="language" formControlName="language" [options]="languages"
                  bindLabel="label" bindValue="value" placeholder="Select language"></p-select>
        <p-message *ngIf="f['language']?.touched && f['language']?.hasError('required')"
                   severity="error" text="Language is required."></p-message>
      </div>
  
      <div class="form-field">
        <label for="kind">Kind *</label>
        <p-select inputId="kind" formControlName="kind" [options]="kinds"
                  bindLabel="label" bindValue="value" placeholder="Select kind"></p-select>
        <p-message *ngIf="f['kind']?.touched && f['kind']?.hasError('required')"
                   severity="error" text="Kind is required."></p-message>
      </div>
  
      <div class="form-field">
        <label for="label">Track label</label>
        <input id="label" type="text" pInputText formControlName="label" placeholder="Shown in player menu" />
      </div>
  
      <div class="form-field">
        <label for="src">Track URL (.vtt/.srt)</label>
        <input id="src" type="text" pInputText formControlName="src" placeholder="https://.../subtitles.vtt" />
      </div>
  
      <div class="form-field">
        <label for="file">Or upload file</label>
        <input id="file" type="file" accept=".vtt,.srt" (change)="onFileChange($event)" />
      </div>
  
      <div class="form-field">
        <label for="mime_type">MIME type</label>
        <input id="mime_type" type="text" pInputText formControlName="mime_type" placeholder="text/vtt, application/x-subrip" />
      </div>
  
      <div class="checkbox-row">
        <div class="checkbox-wrapper">
          <p-checkbox binary="true" formControlName="is_default" inputId="is_default"></p-checkbox>
          <label for="is_default">Default track</label>
        </div>
      </div>
  
      <div class="form-actions">
        <button pButton type="submit" label="Save Track" icon="pi pi-check"></button>
      </div>
    </form>
  
    <p-toast [life]="10000"></p-toast>
    <p-message></p-message>
  </div>
  