<div class="change-password-card">

  <form [formGroup]="form" (ngSubmit)="submit()">
    <div class="p-grid p-fluid">
      <div class="p-col-12">
        <p-floatlabel variant="on">
          <p-password
            id="currentPassword"
            [feedback]="false"
            [toggleMask]="true"
            formControlName="old_password"
          />
          <label for="currentPassword">Current password</label>
        </p-floatlabel>
        <span class="error-message" *ngIf="form.get('old_password')?.hasError('required') && form.get('old_password')?.touched">
          Current password is required.
        </span>
      </div>

      <div class="p-col-12">
        <p-floatlabel variant="on">
          <p-password
            id="newPassword"
            [feedback]="false"
            [toggleMask]="true"
            formControlName="new_password"
          />
          <label for="newPassword">New password</label>
        </p-floatlabel>
        <span class="error-message" *ngIf="form.get('new_password')?.hasError('required') && form.get('new_password')?.touched">
          New password is required.
        </span>
        <span class="error-message" *ngIf="form.get('new_password')?.hasError('minlength')">
          Password must be at least 6 characters long.
        </span>
      </div>

      <div class="p-col-12">
        <p-floatlabel variant="on">
          <p-password
            id="confirmPassword"
            [feedback]="false"
            [toggleMask]="true"
            formControlName="confirm_password"
          />
          <label for="confirmPassword">Confirm new password</label>
        </p-floatlabel>
        <span class="error-message" *ngIf="form.get('confirm_password')?.hasError('required') && form.get('confirm_password')?.touched">
          Confirmation is required.
        </span>
        <span class="error-message" *ngIf="form.get('confirm_password')?.hasError('passwordMismatch')">
          Passwords do not match.
        </span>
      </div>

      <div class="p-col-12">
        <button type="submit" pButton label="Change password" [disabled]="form.invalid"></button>
      </div>
    </div>
  </form>
</div>
  
