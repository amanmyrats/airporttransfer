<app-super-header></app-super-header>
<app-navbar></app-navbar>

<main class="verify-page" aria-labelledby="verify-title">
  <section class="verify-card">
    <h1 id="verify-title">{{ copy.title }}</h1>

    <div class="spinner" *ngIf="loading()">
      <span class="spinner__circle" aria-hidden="true"></span>
      <p>{{ copy.loadingText }}</p>
    </div>

    <ng-container *ngIf="!loading()">
      <div *ngIf="success(); else errorTpl" class="result success">
        <h2>{{ copy.successTitle }}</h2>
        <p>{{ copy.successMessage }}</p>
        <button class="btn btn-primary" (click)="goToLogin()">{{ copy.successButton }}</button>
      </div>
      <ng-template #errorTpl>
        <div class="result error">
          <h2>{{ copy.errorTitle }}</h2>
          <p>{{ errorMessage() ?? copy.errorFallback }}</p>
          <a class="btn btn-primary" [routerLink]="linkWithLang('auth/forgot-password')">{{ copy.requestNew }}</a>
        </div>
      </ng-template>
    </ng-container>
  </section>
</main>

<app-footer></app-footer>
