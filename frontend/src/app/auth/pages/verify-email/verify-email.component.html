<app-super-header></app-super-header>
<app-navbar></app-navbar>

<main class="verify-page" aria-labelledby="verify-title">
  <section class="verify-card">
    <h1 id="verify-title">Email verification</h1>

    <div class="spinner" *ngIf="loading()">
      <span class="spinner__circle" aria-hidden="true"></span>
      <p>Verifying your emailâ€¦</p>
    </div>

    <ng-container *ngIf="!loading()">
      <div *ngIf="success(); else errorTpl" class="result success">
        <h2>Email verified</h2>
        <p>Your account is now active. You can log in to continue.</p>
        <button class="btn btn-primary" (click)="goToLogin()">Go to login</button>
      </div>
      <ng-template #errorTpl>
        <div class="result error">
          <h2>Verification failed</h2>
          <p>{{ errorMessage() ?? 'The verification link is invalid or has expired.' }}</p>
          <a class="btn btn-primary" [routerLink]="linkWithLang('auth/forgot-password')">Request new email</a>
        </div>
      </ng-template>
    </ng-container>
  </section>
</main>

<app-footer></app-footer>
