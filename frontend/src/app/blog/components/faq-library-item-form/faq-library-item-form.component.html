<div class="form-wrapper">
    <form [formGroup]="form" (ngSubmit)="submit()" class="form-grid">
      <!-- Hidden ID -->
      <input type="hidden" formControlName="id" />
  
      <!-- Internal Identifier -->
      <div class="form-field">
        <label for="internal_identifier">Internal Identifier</label>
        <input
          id="internal_identifier"
          type="text"
          pInputText
          formControlName="internal_identifier"
          placeholder="e.g. Payment methods"
        />
        <p-message
          *ngIf="f['internal_identifier']?.touched && f['internal_identifier']?.invalid"
          severity="warn"
          text="Internal identifier is required (max 120 chars).">
        </p-message>
      </div>
  
      <!-- Key (slug) -->
      <div class="form-field">
        <label for="key">Key (slug)</label>
        <input
          id="key"
          type="text"
          pInputText
          formControlName="key"
          placeholder="e.g. payment-methods"
          (blur)="onKeyBlur()"
        />
        <p-message
          *ngIf="f['key']?.touched && f['key']?.errors?.['slug']"
          severity="warn"
          text="Use lowercase letters, numbers and hyphens only.">
        </p-message>
        <p-message
          severity="info"
          text="Leave empty to auto-generate from the internal identifier.">
        </p-message>
      </div>
  
      <!-- Order -->
      <div class="form-field">
        <label for="order">Order</label>
        <p-inputNumber
          inputId="order"
          formControlName="order"
          [min]="0"
          [useGrouping]="false"
          [showButtons]="true"
        />
        <p-message
          *ngIf="f['order']?.touched && f['order']?.invalid"
          severity="warn"
          text="Order must be 0 or greater.">
        </p-message>
      </div>
  
      <!-- Toggles -->
      <div class="form-field checkboxes">
        <div class="checkbox-row">
          <p-checkbox
            binary="true"
            formControlName="is_expanded_by_default"
            inputId="is_expanded_by_default"
          ></p-checkbox>
          <label for="is_expanded_by_default">Expanded by default</label>
        </div>

        <div class="checkbox-row">
          <p-checkbox
            binary="true"
            formControlName="is_featured"
            inputId="is_featured"
          ></p-checkbox>
          <label for="is_featured">Featured</label>
        </div>

        <div class="checkbox-row">
          <p-checkbox
            binary="true"
            formControlName="slug_lock"
            inputId="slug_lock"
          ></p-checkbox>
          <label for="slug_lock">Lock key from auto-generation</label>
        </div>
      </div>
  
      <!-- Submit -->
      <div class="form-actions">
        <button pButton type="submit" label="Save FAQ Library Item" icon="pi pi-check"></button>
      </div>
    </form>
  
    <p-toast [life]="8000"></p-toast>
    <p-message></p-message>
  </div>
  
